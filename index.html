<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!--<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">-->
		<title>New Tab()</title>
		<link rel="stylesheet" href="index.css">
		<link rel="stylesheet" href="bs/css/bootstrap.min.css">
	</head>
	<body>
		<!---->
		<div class="canvas container-fluid">
			<canvas id="canvas">
				<!--<img id="broken" src="broken_lcd.png"></img>-->
			</canvas>
		</div>

		<!---->
		<form id="timer_entry" class="navbar-form navbar-left" action="" method="post" oninput="validateInput()">
			<div class="form-group">
				<label for="timer_hours" id="timer_hours_label">HH:</label>
					<input id="timer_hours" name="timer_hours" type="number" min=0 max=23 placeholder="HH (0-24)" style="width:100px" />
				<label for="timer_minutes" id="timer_minutes_label">MM:</label>
					<input id="timer_minutes" name="timer_minutes" type="number" min=0 max=59 placeholder="MM (0-59)" style="width:100px" />
				<label for="timer_seconds" id="timer_seconds_label">SS:</label>
					<input id="timer_seconds" name="timer_seconds" type="number" min=0 max=59 placeholder="SS (0-59)" style="width:100px" />
				<label id="timer_warning">Expecting HH:MM:[:SS]</label>

				<button type="button" id="add_timer" onclick="attemptNewTimer()" class="btn btn-default">
					<span class="glyphicon glyphicon-plus" aria-hidden="true">Add</span>
				</button>
				<button type="button" id="refresh_timer" onclick="getTimers()" class="btn btn-default">
					<span class="glyphicon glyphicon-refresh" aria-hidden="true">Refresh</span>
				</button>
				<button type="button" id="delete_timer" onclick="deleteTimer()" class="btn btn-default" disabled="true">
					<span class="glyphicon glyphicon-trash" aria-hidden="true">Delete</span>
				</button>
				
				<input id="radio0" type="radio" name="radio" value=0 checked="checked" />Alarm
				<input id="radio1" type="radio" name="radio" value=1 />Stop Watch
			</div>
		</form>
		
		<!---->
		<table id="timer_table" class="table table-bordered table-responsive">
			<thead>
				<tr><th>Type</th><th>Time</th><th>Remaining</th></tr>
			</thead>
			<tbody id="table_body">
				<!--dynamically built-->
			</tbody>
		</table>
		
		<audio id="audio" src="ding.mp3" type="audio/mpeg"><!--not supported in firefox-->
			Your browser does not support the <code>audio</code> element.
			<!--attribution: corsica_s / Tim Kahn on freesound.org via Creative Commons license 
			https://www.freesound.org/people/Corsica_S/sounds/91926/-->
		</audio>
		
		<!---->
		<nav class="navbar navbar-default navbar-fixed-bottom">
			<div class="container-fluid">
				<div class="navbar-header">
					<span class="navbar-brand">Contact Me</span>
				</div>
				<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
					<ul class="nav navbar-nav navbar-right">
						<li><a href="mailto:mgorgei+filter@umail.iu.edu" target="_blank" class="btn btn-default" role="button" title="Emails sent to this address are given priority by my filter and will be responded to.">
							<img src="images/googlemail-32.png" />
						</a></li>
						<li style="padding-left:16px"><a href="https://www.linkedin.com/in/michaelgorgei/" target="_blank" class="btn btn-default" role="button">
							<img src="images/In-2C-28px-R.png" style="height:32px" />
						</a></li>
						<li style="padding-left:16px"><a href="https://www.github.com/mgorgei/" target="_blank" class="btn btn-default" role="button">
							<img src="images/GitHub-Mark-32px.png" />
						</a></li>
					</ul>
				</div>
			</div>
		</nav>
		
<!-- Button trigger modal 
<button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
  Launch demo modal
</button>

<!-- Modal 
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Modal title</h4>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>-->

<!--********************************************************************************************-->

		<!--<script src="//cdn.rawgit.com/jpillora/xdomain/0.6.17/dist/xdomain.min.js" slave="http://mgorgei.x10host.com/proxy.html"></script>-->
		<script src="jquery-2.1.3.js"></script>
		<script src="bs/js/bootstrap.js"></script>
		<script src="index.js"></script>
		<script>
	var gg;//global variable for inspecting objects quickly
	var shiftKey = false;
	$( document ).ready(function() {
		$("#timer_entry").children().children("input[type=number]")[0].focus();
		//make : behave as a tab key
		$("#timer_entry").children().children("input[type=number]").on( "keydown", function( event ) {
			if (event.keyCode == 16)
				shiftKey = true;
			if (event.keyCode == 186)
				if (shiftKey) {
					if ($(document.activeElement).prop('name') === 'timer_hours')
						$('#timer_minutes').focus();
					else if ($(document.activeElement).prop('name') === 'timer_minutes')
						$('#timer_seconds').focus();
					else if ($(document.activeElement).prop('name') === 'timer_seconds')
						$('#add_timer').focus();
					else
						alert('I have no idea how this happened');
					}
		});
		$("#timer_entry").children().children("input[type=number]").on( "keyup", function( event ) {
			if (event.keyCode == 16)
				shiftKey = false;
		});
		/*********************************************************************/
		drawDigits();
		$("#canvas").on("onloadeddata", function() {
			getTimers();
			updateClock();
			clockIntervalID = setInterval(function () {updateClock()}, 1000);
		});
		$("#table_body").on("click", function( event ) {
			selectTimer(event);
		});
	});
		</script>
	</body>
</html>